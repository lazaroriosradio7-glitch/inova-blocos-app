<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Renova Blocos | Paredes Rápidas EPS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body { background:#f4f6f8 }
.canvas {
  background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
  background-size: 20px 20px;
  position: relative;
  overflow: hidden;
}
.comodo {
  position:absolute;
  background:#fff7ed;
  border:2px solid #f97316;
  cursor:move;
}
.controls {
  position:absolute;
  top:-34px;
  left:0;
  display:flex;
  gap:6px;
}
.ctrl {
  background:#1e293b;
  color:#fff;
  padding:4px 8px;
  font-size:10px;
  border-radius:6px;
}
</style>
</head>

<body>

<header class="bg-slate-900 text-white p-5 border-b-4 border-orange-600">
  <h1 class="text-2xl font-black uppercase">RENOVA <span class="text-orange-500">BLOCOS</span></h1>
  <p class="text-xs text-slate-400">Paredes rápidas EPS • construa melhor, mais rápido e mais barato</p>
</header>

<main class="max-w-7xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-12 gap-6">

<!-- CONFIGURAÇÃO -->
<section class="lg:col-span-4 bg-white p-6 rounded-2xl shadow space-y-4">

<h2 class="font-black uppercase text-slate-700">Configuração do Projeto</h2>

<label class="text-xs font-bold">Altura das paredes (m)</label>
<input id="altura" type="number" value="2.8" class="w-full p-2 border rounded">

<label class="text-xs font-bold">Espessura EPS</label>
<select id="eps" class="w-full p-2 border rounded">
  <option value="15">EPS 15 cm</option>
  <option value="20">EPS 20 cm</option>
</select>

<hr>

<label class="text-xs font-bold">Tipo de cômodo</label>
<select id="tipo" class="w-full p-2 border rounded">
  <option>Quarto</option>
  <option>Sala</option>
  <option>Cozinha</option>
  <option>Banheiro</option>
  <option>Garagem</option>
</select>

<div class="grid grid-cols-2 gap-2">
<input id="larg" placeholder="Largura (m)" type="number" class="p-2 border rounded">
<input id="comp" placeholder="Comprimento (m)" type="number" class="p-2 border rounded">
</div>

<div class="flex gap-1">
<button onclick="add('subsolo')" class="flex-1 bg-slate-400 text-white p-2 rounded text-xs">Subsolo</button>
<button onclick="add('terreo')" class="flex-1 bg-slate-800 text-white p-2 rounded text-xs">Térreo</button>
<button onclick="add('superior')" class="flex-1 bg-slate-600 text-white p-2 rounded text-xs">Superior</button>
</div>

<hr>

<div class="bg-orange-50 p-4 rounded">
<p class="text-xs uppercase font-bold text-orange-600">Resultado</p>
<p id="area" class="font-black">Área: 0 m²</p>
<p id="paredes" class="font-black">Paredes EPS: 0 m²</p>
</div>

<button class="w-full bg-orange-600 text-white p-4 rounded-xl font-black uppercase">
Ver economia com Renova Blocos
</button>

</section>

<!-- PLANTA -->
<section class="lg:col-span-8 bg-white rounded-3xl shadow overflow-hidden flex flex-col">

<div class="flex bg-slate-100 border-b">
<button onclick="nivel='subsolo';render()" class="px-6 py-3 font-black text-xs">Subsolo</button>
<button onclick="nivel='terreo';render()" class="px-6 py-3 font-black text-xs">Térreo</button>
<button onclick="nivel='superior';render()" class="px-6 py-3 font-black text-xs">Superior</button>
</div>

<div id="canvas" class="canvas flex-1"></div>

</section>

</main>

<script>
let nivel='terreo';
let escala=20;
let comodos=[];

function add(n){
  const l=parseFloat(larg.value);
  const c=parseFloat(comp.value);
  if(!l||!c) return alert('Informe medidas');
  comodos.push({
    id:Date.now(),
    tipo:tipo.value,
    l,c,n,
    x:100,y:100,rot:0
  });
  render();
}

function render(){
  canvas.innerHTML='';
  let area=0, per=0;
  comodos.filter(o=>o.n===nivel).forEach(o=>{
    area+=o.l*o.c;
    per+=2*(o.l+o.c);

    const d=document.createElement('div');
    d.className='comodo';
    d.style.width=o.l*escala+'px';
    d.style.height=o.c*escala+'px';
    d.style.left=o.x+'px';
    d.style.top=o.y+'px';
    d.style.transform=`rotate(${o.rot}deg)`;

    d.innerHTML=`
      <div class="controls">
        <button class="ctrl" onclick="girar(${o.id})"><i class="fa fa-rotate"></i></button>
        <button class="ctrl bg-red-600" onclick="del(${o.id})"><i class="fa fa-trash"></i></button>
      </div>
      <div class="flex items-center justify-center h-full text-xs font-black">${o.tipo}</div>
    `;

    drag(d,o);
    canvas.appendChild(d);
  });

  areaSpan=area.toFixed(2);
  area.innerText=`Área: ${areaSpan} m²`;
  paredes.innerText=`Paredes EPS: ${(per*altura.value).toFixed(2)} m²`;
}

function girar(id){
  let o=comodos.find(x=>x.id===id);
  o.rot=(o.rot+90)%360;
  render();
}

function del(id){
  comodos=comodos.filter(x=>x.id!==id);
  render();
}

function drag(el,o){
  let dx,dy;
  el.onmousedown=e=>{
    dx=e.clientX-o.x;
    dy=e.clientY-o.y;
    document.onmousemove=e=>{
      o.x=e.clientX-dx;
      o.y=e.clientY-dy;
      render();
    }
    document.onmouseup=()=>document.onmousemove=null;
  }
}
</script>

</body>
</html>
