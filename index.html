<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>RENOVA BLOCOS | Paredes Rápidas T & A</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#f1f5f9}
header{background:#0f172a;color:#fff;padding:16px;border-bottom:4px solid #ea580c}
header h1{margin:0;font-size:22px}
main{max-width:1200px;margin:auto;padding:16px;display:grid;grid-template-columns:320px 1fr;gap:16px}
@media(max-width:900px){main{grid-template-columns:1fr}}

.card{background:#fff;padding:12px;border-radius:10px;margin-bottom:12px;box-shadow:0 4px 10px rgba(0,0,0,.08)}
.card h3{margin:0 0 6px;font-size:11px;text-transform:uppercase;color:#475569}
input,select,button{width:100%;padding:8px;margin-top:4px;border-radius:6px;border:1px solid #cbd5e1}
button{background:#ea580c;color:#fff;font-weight:bold;border:none;cursor:pointer}
button.alt{background:#334155}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:6px}

.canvas-wrap{background:#fff;border-radius:16px;padding:10px;box-shadow:0 4px 10px rgba(0,0,0,.08)}
.canvas{height:420px;background:#f8fafc;border:2px dashed #cbd5e1;border-radius:12px;position:relative;overflow:hidden}

#terreno{position:absolute;border:3px solid #334155;background:rgba(148,163,184,.15)}

.comodo{position:absolute;background:#ffedd5;border:2px solid #ea580c;cursor:move;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:bold}
.controls{position:absolute;top:-22px;left:0;display:flex;gap:4px}
.controls button{width:20px;height:20px;border-radius:50%;font-size:12px;padding:0}

footer{background:#0f172a;color:#fff;padding:12px;border-top:4px solid #ea580c;display:flex;flex-wrap:wrap;gap:12px;justify-content:space-between}
</style>
</head>

<body>

<header>
<h1>RENOVA BLOCOS | Paredes Rápidas T & A</h1>
</header>

<main>

<div>
<div class="card">
<h3>Localização</h3>
<select id="estado" onchange="atualizarIndices()">
<option value="">Estado</option>
<option value="BA">Bahia</option>
<option value="SP">São Paulo</option>
<option value="SC">Santa Catarina</option>
</select>
<input id="cidade" placeholder="Cidade">
<p>CUB: <strong id="cub">R$ 0,00</strong></p>
<p>SINAPI: <strong id="sinapi">R$ 0,00</strong></p>
</div>

<div class="card">
<h3>Padrão construtivo</h3>
<button onclick="setPadrao(0.9)">Popular</button>
<button onclick="setPadrao(1)">Médio</button>
<button onclick="setPadrao(1.25)">Alto</button>
</div>

<div class="card">
<h3>Tipo de obra</h3>
<button onclick="setTipo(1)">Residencial</button>
<button onclick="setTipo(1.15)">Comercial</button>
</div>

<div class="card">
<h3>Terreno (m)</h3>
<div class="grid2">
<input id="tf" placeholder="Frente">
<input id="te" placeholder="Lateral">
</div>
<button onclick="desenharTerreno()">Desenhar terreno</button>
</div>

<div class="card">
<h3>Cômodo</h3>
<input id="ctipo" placeholder="Nome">
<div class="grid2">
<input id="cf" placeholder="Largura">
<input id="ce" placeholder="Comprimento">
</div>
<button onclick="adicionarComodo()">Adicionar cômodo</button>
</div>
</div>

<div class="canvas-wrap">
<div class="canvas" id="canvas"></div>
</div>

</main>

<footer>
<div>Área terreno: <strong id="areaTerreno">0 m²</strong></div>
<div>Área construída: <strong id="areaConstruida">0 m²</strong></div>
<div>Paredes prontas: <strong id="blocos">0</strong></div>
<div><button onclick="alert('Página 2 em construção')">Comparar sistemas</button></div>
</footer>

<script>
const dados={BA:{cub:2150,sinapi:1950},SP:{cub:2480,sinapi:2250},SC:{cub:2300,sinapi:2100}};
let padrao=1,tipo=1,escala=12,areaConstruida=0;

function atualizarIndices(){
 const uf=estado.value;
 if(!uf)return;
 cub.innerText=(dados[uf].cub*padrao*tipo).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});
 sinapi.innerText=(dados[uf].sinapi*padrao*tipo).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});
}

function setPadrao(v){padrao=v;atualizarIndices()}
function setTipo(v){tipo=v;atualizarIndices()}

function desenharTerreno(){
 canvas.innerHTML="";
 const f=+tf.value||10,l=+te.value||10;
 const t=document.createElement("div");
 t.id="terreno";
 t.style.width=(f*escala)+"px";
 t.style.height=(l*escala)+"px";
 t.style.left="40px";
 t.style.top="40px";
 canvas.appendChild(t);
 areaTerreno.innerText=(f*l)+" m²";
}

function adicionarComodo(){
 const w=+cf.value||3,h=+ce.value||3;
 const c=document.createElement("div");
 c.className="comodo";
 c.style.width=(w*escala)+"px";
 c.style.height=(h*escala)+"px";
 c.style.left="60px";
 c.style.top="60px";
 c.innerText=ctipo.value||"Cômodo";

 const ctr=document.createElement("div");
 ctr.className="controls";
 ctr.innerHTML=`<button onclick="girar(this)">↻</button><button onclick="excluir(this)">✖</button>`;
 c.appendChild(ctr);

 ativarDrag(c);
 canvas.appendChild(c);

 areaConstruida+=w*h;
 areaConstruidaElem();
 atualizarBlocos();
}

function areaConstruidaElem(){areaConstruidaElem=document.getElementById("areaConstruida");areaConstruidaElem.innerText=areaConstruida+" m²"}

function atualizarBlocos(){blocos.innerText=Math.ceil(areaConstruida*2.8)}

function girar(b){const c=b.parentElement.parentElement;const r=+(c.dataset.r||0);c.dataset.r=(r+90)%360;c.style.transform=`rotate(${c.dataset.r}deg)`}

function excluir(b){b.parentElement.parentElement.remove();}

function ativarDrag(el){
 let ox,oy;
 el.onmousedown=e=>{
  ox=e.offsetX;oy=e.offsetY;
  document.onmousemove=ev=>{
   el.style.left=(ev.pageX-canvas.offsetLeft-ox)+"px";
   el.style.top=(ev.pageY-canvas.offsetTop-oy)+"px";
  };
  document.onmouseup=()=>document.onmousemove=null;
 };
 el.ontouchstart=e=>{
  const t=e.touches[0];
  ox=t.clientX-el.offsetLeft;oy=t.clientY-el.offsetTop;
  document.ontouchmove=ev=>{
   const tt=ev.touches[0];
   el.style.left=(tt.clientX-ox)+"px";
   el.style.top=(tt.clientY-oy)+"px";
  };
  document.ontouchend=()=>document.ontouchmove=null;
 };
}
</script>

</body>
</html>
